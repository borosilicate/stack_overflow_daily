import time
from selenium.webdriver.common.by import By
from selenium import webdriver
from selenium.webdriver.chrome.options import Options
from selenium.webdriver.chrome.service import Service as ChromeService
from pyvirtualdisplay import Display
#display = Display(visible=0, size=(800, 600))
#display.start()
chrome_options = Options()
chrome_options.add_argument("--user-data-dir=/home/pi/.config/chromium")
chrome_options.add_argument("--remote-debugging-port=9222")
chrome_options.add_argument('--no-sandbox')
chrome_options.add_argument('--disable-dev-shm-usage')
chrome_options.add_argument("--disable-setuid-sandbox")
chrome_options.add_argument("--headless")
#####dr=webdriver.Chrome('/usr/lib/chromium-browser/chromedriver') #,options=chrome_options)
dr=webdriver.Chrome(service=ChromeService('/usr/bin/chromedriver'),options=chrome_options)
#/usr/lib/chromium-browser/chromedriver
dr.get('https://stackoverflow.com/')
#//*[@id="mainbar"]/div[1]/div/a
source=dr.page_source
print(source.index('Michael Hearn'),' index of Michael Hearn')
out=dr.find_elements(by=By.XPATH,value='//a[@href="/questions/ask"]')
print(out,1)
out=dr.find_elements(by=By.XPATH,value='//a[text()="\n        Ask Question\n    "]')
print(out,2)
time.sleep(15)
dr.close()
#display.stop()
